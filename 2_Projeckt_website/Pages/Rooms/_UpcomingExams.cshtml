@* 
  This view of specific room and hasbeen updated for better data presentation and organization.
*@
@model IEnumerable<_2._Sem_Project_Eksamen_System.Models1.Exam>

@* Check if there are any exams to display *@
@if (Model == null || !Model.Any())
{
    @* Display message when no exams are scheduled for this room *@
    <div class="text-muted small">No upcoming exams scheduled for this room.</div>
}
else
{
    @* Table container with Bootstrap styling *@
    <table class="table table-hover">
        @* Table header defining column structure *@
        <thead>
            <tr>
                <th style="width: 40%;">Exam</th>       @* Column for exam name *@
                <th style="width: 40%;">Date</th>       @* Column for exam date *@
                <th style="width: 40%;">Class</th>      @* Column for associated class *@
                <th style="width: 10%;"></th>           @* Empty column for action buttons *@
            </tr>
        </thead>

        <tbody>
            @* Loop through each exam in the collection *@
            @foreach (var e in Model)
            {
                <tr>
                    @* Exam name cell - main identifier *@
                    <td>
                        <strong>@e.ExamName</strong>
                    </td>

                    <td>
                        @if (e.ExamStartDate.HasValue)
                        {
                            @*  start date *@
                            <span>@e.ExamStartDate.Value.ToString("yyyy-MM-dd")</span>

                            @* Add end date if different from start date *@
                            @if (e.ExamEndDate.HasValue && e.ExamEndDate != e.ExamStartDate)
                            {
                                <span> to @e.ExamEndDate.Value.ToString("yyyy-MM-dd")</span>
                            }
                        }
                    </td>

                    <td>
                        @if (e.Class != null)
                        {
                            <span class="text-muted">@e.Class.ClassName</span>
                        }
                    </td>

                    <td>
                        <a asp-page="/Eksamner/Exam_Details"
                           asp-route-id="@e.ExamId"
                           class="btn btn-sm btn-outline-primary">
                            Details
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}